{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"./App.css\";import hpeLogo from\"./assets/hpe-logo-with-back.png\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(_ref){let{user,mode,onLogout}=_ref;const[question,setQuestion]=useState(\"\");const[answer,setAnswer]=useState(\"\");const[chatHistory,setChatHistory]=useState([]);const[requests,setRequests]=useState([]);const[bannedUsers,setBannedUsers]=useState([]);const[selectedUser,setSelectedUser]=useState(\"all\");const[username,setUsername]=useState(null);const harmfulWords=[\"badword1\",\"badword2\",\"spamword\"];const containsHarmfulWord=text=>harmfulWords.some(word=>text.toLowerCase().includes(word));const chatPairs=[];if(chatHistory.length>0){for(let i=0;i<chatHistory.length-1;i++){if(chatHistory[i].sender!==\"assistant\"&&chatHistory[i+1]&&chatHistory[i+1].sender===\"assistant\"){chatPairs.push({question:chatHistory[i].content,answer:chatHistory[i+1].content});}}}useEffect(()=>{const fetchHistory=async()=>{try{const response=await fetch(\"http://localhost:8083/chat-history/all\");const data=await response.json();setChatHistory(data);// Set full chat history from DB\n}catch(error){console.error(\"Error fetching chat history:\",error);}};fetchHistory();},[]);useEffect(()=>{if(user){const fetchMessages=async()=>{try{const response=await fetch(\"http://localhost:8083/chat-history/all\");const data=await response.json();setChatHistory(data);}catch(error){console.error(\"Error fetching chat history:\",error);}};fetchMessages();const interval=setInterval(fetchMessages,5000);return()=>clearInterval(interval);}},[user]);useEffect(()=>{if(mode===\"admin\"){const initialRequests=[{id:1,sender:\"user1\",content:\"Hello!\",timestamp:new Date()},{id:2,sender:\"assistant\",content:\"Hi! How can I assist you?\",timestamp:new Date()},{id:3,sender:\"user1\",content:\"This is a badword1 message.\",timestamp:new Date()}];setRequests(initialRequests);const usersToBan=[...new Set(initialRequests.filter(r=>r.sender!==\"assistant\"&&containsHarmfulWord(r.content)).map(r=>r.sender))];setBannedUsers(usersToBan);}},[mode]);const toggleBanUser=sender=>{setBannedUsers(prev=>prev.includes(sender)?prev.filter(u=>u!==sender):[...prev,sender]);};const handleSubmit=async e=>{e.preventDefault();await saveAnswerToDB(question,username);// Save user message to DB\ntry{const res=await fetch(\"http://localhost:5000/query\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({prompt:question})});const data=await res.json();console.log(\"AI Response full:\",data);if(data.response){setAnswer(data.response);await saveAnswerToDB(data.response,\"ASSISTANT\");// Save assistant message to DB\n}else{setAnswer(\"No response from AI\");}}catch(err){console.error(\"Fetch/JSON Error:\",err);setAnswer(\"Failed to get response from AI assistant.\");}setQuestion(\"\");// Clear input after submission\n};useEffect(()=>{const storedUser=localStorage.getItem(\"username\");setUsername(storedUser);// store username in state for use in handleSubmit\n},[]);const saveAnswerToDB=async(text,sender)=>{try{const response=await fetch(\"http://localhost:8083/chat-history/save\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"// Important!\n},body:JSON.stringify({content:text,sender:sender// This must be a string like \"sami\" or \"assistant\"\n})});if(!response.ok){console.error(\"Failed to save chat message:\",await response.text());}}catch(err){console.error(\"Error saving message to DB:\",err);}};if(mode===\"user\"){return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"img\",{src:hpeLogo,alt:\"HPE Logo\",className:\"logo\"}),/*#__PURE__*/_jsx(\"h1\",{style:{fontFamily:\"monospace\"},children:\" AI ASSISTANT \"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Chat History\"}),/*#__PURE__*/_jsx(\"ul\",{children:[...chatHistory].reverse().map((msg,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[msg.sender||\"USER\",\":\"]}),\" \",msg.content,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:new Date(msg.timestamp).toLocaleString()})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flexGrow:1,paddingLeft:\"20px\"},children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:question,onChange:e=>setQuestion(e.target.value),placeholder:\"Ask a question...\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Ask\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"answer-box\",children:answer&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Answer:\"}),/*#__PURE__*/_jsx(\"p\",{children:answer})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"logout-btn-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:onLogout,children:\"Log out\"})})]});}if(mode===\"admin\"){const uniqueSenders=[...new Set(requests.map(r=>r.sender))].filter(s=>s!==\"assistant\");const filteredRequests=selectedUser===\"all\"?requests:requests.filter(r=>r.sender===selectedUser);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"img\",{src:hpeLogo,alt:\"HPE Logo\",className:\"hpe-logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Backoffice - Chat Requests\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Filter by user:\"})}),/*#__PURE__*/_jsxs(\"select\",{onChange:e=>setSelectedUser(e.target.value),value:selectedUser,children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All users\"}),uniqueSenders.map(sender=>/*#__PURE__*/_jsx(\"option\",{value:sender,children:sender},sender))]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table\",children:filteredRequests.map(r=>{const isBanned=bannedUsers.includes(r.sender);const isHarmful=containsHarmfulWord(r.content);return/*#__PURE__*/_jsxs(\"div\",{className:`row ${isBanned?\"banned-row\":\"\"} ${isHarmful?\"harmful-row\":\"\"}`,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"#\",r.id]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:r.sender}),\": \",r.content,\" \",isHarmful&&/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\",fontWeight:\"bold\"},children:\"\\u26A0\\uFE0F Harmful content\"})]}),/*#__PURE__*/_jsx(\"div\",{children:new Date(r.timestamp).toLocaleString()}),r.sender!==\"assistant\"&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleBanUser(r.sender),className:isBanned?\"unban\":\"ban\",children:isBanned?\"Unban\":\"Ban\"})})]},r.id);})}),/*#__PURE__*/_jsx(\"div\",{className:\"logout-btn-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:onLogout,children:\"Log out\"})})]});}return null;}export default App;","map":{"version":3,"names":["React","useEffect","useState","hpeLogo","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","_ref","user","mode","onLogout","question","setQuestion","answer","setAnswer","chatHistory","setChatHistory","requests","setRequests","bannedUsers","setBannedUsers","selectedUser","setSelectedUser","username","setUsername","harmfulWords","containsHarmfulWord","text","some","word","toLowerCase","includes","chatPairs","length","i","sender","push","content","fetchHistory","response","fetch","data","json","error","console","fetchMessages","interval","setInterval","clearInterval","initialRequests","id","timestamp","Date","usersToBan","Set","filter","r","map","toggleBanUser","prev","u","handleSubmit","e","preventDefault","saveAnswerToDB","res","method","headers","body","JSON","stringify","prompt","log","err","storedUser","localStorage","getItem","ok","className","children","src","alt","style","fontFamily","display","reverse","msg","index","toLocaleString","flexGrow","paddingLeft","onSubmit","type","value","onChange","target","placeholder","required","onClick","uniqueSenders","s","filteredRequests","isBanned","isHarmful","color","fontWeight"],"sources":["C:/Users/elhosnis/Desktop/full-stack-dep/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./App.css\";\r\nimport hpeLogo from \"./assets/hpe-logo-with-back.png\";\r\n\r\nfunction App({ user, mode, onLogout }) {\r\n  const [question, setQuestion] = useState(\"\");\r\n  const [answer, setAnswer] = useState(\"\");\r\n  const [chatHistory, setChatHistory] = useState([]);\r\n  const [requests, setRequests] = useState([]);\r\n  const [bannedUsers, setBannedUsers] = useState([]);\r\n  const [selectedUser, setSelectedUser] = useState(\"all\");\r\n  const [username, setUsername] = useState(null);\r\n\r\n  const harmfulWords = [\"badword1\", \"badword2\", \"spamword\"];\r\n  const containsHarmfulWord = (text) =>\r\n    harmfulWords.some((word) => text.toLowerCase().includes(word));\r\n\r\n\r\n\r\n  const chatPairs = [];\r\n  if (chatHistory.length > 0) {\r\n    for (let i = 0; i < chatHistory.length - 1; i++) {\r\n      if (\r\n        chatHistory[i].sender !== \"assistant\" &&\r\n        chatHistory[i + 1] &&\r\n        chatHistory[i + 1].sender === \"assistant\"\r\n      ) {\r\n        chatPairs.push({\r\n          question: chatHistory[i].content,\r\n          answer: chatHistory[i + 1].content,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const fetchHistory = async () => {\r\n      try {\r\n        const response = await fetch(\"http://localhost:8083/chat-history/all\");\r\n        const data = await response.json();\r\n        setChatHistory(data); // Set full chat history from DB\r\n      } catch (error) {\r\n        console.error(\"Error fetching chat history:\", error);\r\n      }\r\n    };\r\n\r\n    fetchHistory();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      const fetchMessages = async () => {\r\n        try {\r\n          const response = await fetch(\"http://localhost:8083/chat-history/all\");\r\n          const data = await response.json();\r\n          setChatHistory(data);\r\n        } catch (error) {\r\n          console.error(\"Error fetching chat history:\", error);\r\n        }\r\n      };\r\n\r\n      fetchMessages();\r\n      const interval = setInterval(fetchMessages, 5000);\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (mode === \"admin\") {\r\n      const initialRequests = [\r\n        { id: 1, sender: \"user1\", content: \"Hello!\", timestamp: new Date() },\r\n        {\r\n          id: 2,\r\n          sender: \"assistant\",\r\n          content: \"Hi! How can I assist you?\",\r\n          timestamp: new Date(),\r\n        },\r\n        {\r\n          id: 3,\r\n          sender: \"user1\",\r\n          content: \"This is a badword1 message.\",\r\n          timestamp: new Date(),\r\n        },\r\n      ];\r\n      setRequests(initialRequests);\r\n      const usersToBan = [\r\n        ...new Set(\r\n          initialRequests\r\n            .filter(\r\n              (r) => r.sender !== \"assistant\" && containsHarmfulWord(r.content)\r\n            )\r\n            .map((r) => r.sender)\r\n        ),\r\n      ];\r\n      setBannedUsers(usersToBan);\r\n    }\r\n  }, [mode]);\r\n\r\n  const toggleBanUser = (sender) => {\r\n    setBannedUsers((prev) =>\r\n      prev.includes(sender) ? prev.filter((u) => u !== sender) : [...prev, sender]\r\n    );\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    await saveAnswerToDB(question, username); // Save user message to DB\r\n\r\n    try {\r\n      const res = await fetch(\"http://localhost:5000/query\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ prompt: question }),\r\n      });\r\n\r\n      const data = await res.json();\r\n      console.log(\"AI Response full:\", data);\r\n\r\n      if (data.response) {\r\n        setAnswer(data.response);\r\n        await saveAnswerToDB(data.response, \"ASSISTANT\"); // Save assistant message to DB\r\n      } else {\r\n        setAnswer(\"No response from AI\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Fetch/JSON Error:\", err);\r\n      setAnswer(\"Failed to get response from AI assistant.\");\r\n    }\r\n\r\n    setQuestion(\"\"); // Clear input after submission\r\n  };\r\n\r\n      useEffect(() => {\r\n    const storedUser = localStorage.getItem(\"username\");\r\n    setUsername(storedUser);  // store username in state for use in handleSubmit\r\n  }, []);\r\n\r\nconst saveAnswerToDB = async (text, sender) => {\r\n  try {\r\n    const response = await fetch(\"http://localhost:8083/chat-history/save\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\", // Important!\r\n      },\r\n      body: JSON.stringify({\r\n        content: text,\r\n        sender: sender, // This must be a string like \"sami\" or \"assistant\"\r\n      }),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      console.error(\"Failed to save chat message:\", await response.text());\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Error saving message to DB:\", err);\r\n  }\r\n};\r\n\r\n\r\n  if (mode === \"user\") {\r\n    return (\r\n      <div className=\"App\">\r\n        <img src={hpeLogo} alt=\"HPE Logo\" className=\"logo\" />\r\n        <h1 style={{ fontFamily: \"monospace\" }}> AI ASSISTANT </h1>\r\n\r\n        <div style={{ display: \"flex\" }}>\r\n          <div className=\"sidebar\">\r\n            <h3>Chat History</h3>\r\n            <ul>\r\n              {[...chatHistory].reverse().map((msg, index) => (\r\n                <li key={index}>\r\n                  <strong>{msg.sender || \"USER\"}:</strong> {msg.content}\r\n                  <br />\r\n                  <small>{new Date(msg.timestamp).toLocaleString()}</small>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n\r\n          <div style={{ flexGrow: 1, paddingLeft: \"20px\" }}>\r\n            <form onSubmit={handleSubmit}>\r\n              <input\r\n                type=\"text\"\r\n                value={question}\r\n                onChange={(e) => setQuestion(e.target.value)}\r\n                placeholder=\"Ask a question...\"\r\n                required\r\n              />\r\n              <button type=\"submit\">Ask</button>\r\n            </form>\r\n\r\n            <div className=\"answer-box\">\r\n              {answer && (\r\n                <>\r\n                  <h3>Answer:</h3>\r\n                  <p>{answer}</p>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"logout-btn-container\">\r\n          <button className=\"logout-btn\" onClick={onLogout}>\r\n            Log out\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (mode === \"admin\") {\r\n    const uniqueSenders = [...new Set(requests.map((r) => r.sender))].filter(\r\n      (s) => s !== \"assistant\"\r\n    );\r\n    const filteredRequests =\r\n      selectedUser === \"all\"\r\n        ? requests\r\n        : requests.filter((r) => r.sender === selectedUser);\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <img src={hpeLogo} alt=\"HPE Logo\" className=\"hpe-logo\" />\r\n        <h1>Backoffice - Chat Requests</h1>\r\n\r\n        <div>\r\n          <label>\r\n            <strong>Filter by user:</strong>\r\n          </label>\r\n          <select\r\n            onChange={(e) => setSelectedUser(e.target.value)}\r\n            value={selectedUser}\r\n          >\r\n            <option value=\"all\">All users</option>\r\n            {uniqueSenders.map((sender) => (\r\n              <option key={sender} value={sender}>\r\n                {sender}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"table\">\r\n          {filteredRequests.map((r) => {\r\n            const isBanned = bannedUsers.includes(r.sender);\r\n            const isHarmful = containsHarmfulWord(r.content);\r\n            return (\r\n              <div\r\n                key={r.id}\r\n                className={`row ${isBanned ? \"banned-row\" : \"\"} ${\r\n                  isHarmful ? \"harmful-row\" : \"\"\r\n                }`}\r\n              >\r\n                <div>\r\n                  <strong>#{r.id}</strong>\r\n                </div>\r\n                <div>\r\n                  <strong>{r.sender}</strong>: {r.content}{\" \"}\r\n                  {isHarmful && (\r\n                    <span style={{ color: \"red\", fontWeight: \"bold\" }}>\r\n                      ⚠️ Harmful content\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <div>{new Date(r.timestamp).toLocaleString()}</div>\r\n                {r.sender !== \"assistant\" && (\r\n                  <div>\r\n                    <button\r\n                      onClick={() => toggleBanUser(r.sender)}\r\n                      className={isBanned ? \"unban\" : \"ban\"}\r\n                    >\r\n                      {isBanned ? \"Unban\" : \"Ban\"}\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        <div className=\"logout-btn-container\">\r\n          <button className=\"logout-btn\" onClick={onLogout}>\r\n            Log out\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}