{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\elhosnis\\\\Desktop\\\\full-stack-dep\\\\frontend\\\\src\\\\Root.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { BrowserRouter as Router, Routes, Route, Navigate, useNavigate } from \"react-router-dom\";\nimport Loginn from \"./auth/Loginn\";\nimport AdminLayout from \"./layouts/AdminLayout\";\nimport UserLayout from \"./layouts/UserLayout\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Root() {\n  _s();\n  const [user, setUser] = useState(null);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        element: /*#__PURE__*/_jsxDEV(LoginWrapper, {\n          onLogin: user => setUser(user)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/admin/*\",\n        element: (user === null || user === void 0 ? void 0 : user.role) === \"admin\" ? /*#__PURE__*/_jsxDEV(AdminLayout, {\n          user: user,\n          onLogout: () => setUser(null)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/login\",\n          replace: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/user/*\",\n        element: (user === null || user === void 0 ? void 0 : user.role) === \"user\" ? /*#__PURE__*/_jsxDEV(UserLayout, {\n          user: user,\n          onLogout: () => setUser(null)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/login\",\n          replace: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"*\",\n        element: /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/login\",\n          replace: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 5\n  }, this);\n}\n_s(Root, \"Iei9RGtZU29Y1RhBe1sbfh/MntA=\");\n_c = Root;\nfunction LoginWrapper({\n  onLogin\n}) {\n  _s2();\n  const navigate = useNavigate();\n  const handleLogin = user => {\n    onLogin(user);\n    if (user.role === \"admin\") {\n      navigate(\"/admin\", {\n        replace: true\n      });\n    } else {\n      navigate(\"/user\", {\n        replace: true\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Loginn, {\n    onLogin: handleLogin\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 10\n  }, this);\n}\n_s2(LoginWrapper, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c2 = LoginWrapper;\nexport default Root;\nvar _c, _c2;\n$RefreshReg$(_c, \"Root\");\n$RefreshReg$(_c2, \"LoginWrapper\");","map":{"version":3,"names":["React","useState","BrowserRouter","Router","Routes","Route","Navigate","useNavigate","Loginn","AdminLayout","UserLayout","jsxDEV","_jsxDEV","Root","_s","user","setUser","children","path","element","LoginWrapper","onLogin","fileName","_jsxFileName","lineNumber","columnNumber","role","onLogout","to","replace","_c","_s2","navigate","handleLogin","_c2","$RefreshReg$"],"sources":["C:/Users/elhosnis/Desktop/full-stack-dep/frontend/src/Root.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Routes,\r\n  Route,\r\n  Navigate,\r\n  useNavigate,\r\n} from \"react-router-dom\";\r\nimport Loginn from \"./auth/Loginn\";\r\nimport AdminLayout from \"./layouts/AdminLayout\";\r\nimport UserLayout from \"./layouts/UserLayout\";\r\n\r\nfunction Root() {\r\n  const [user, setUser] = useState(null);\r\n\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n        <Route\r\n          path=\"/login\"\r\n          element={<LoginWrapper onLogin={(user) => setUser(user)} />}\r\n        />\r\n        <Route\r\n          path=\"/admin/*\"\r\n          element={\r\n            user?.role === \"admin\" ? (\r\n              <AdminLayout user={user} onLogout={() => setUser(null)} />\r\n            ) : (\r\n              <Navigate to=\"/login\" replace />\r\n            )\r\n          }\r\n        />\r\n        <Route\r\n          path=\"/user/*\"\r\n          element={\r\n            user?.role === \"user\" ? (\r\n              <UserLayout user={user} onLogout={() => setUser(null)} />\r\n            ) : (\r\n              <Navigate to=\"/login\" replace />\r\n            )\r\n          }\r\n        />\r\n        <Route path=\"*\" element={<Navigate to=\"/login\" replace />} />\r\n      </Routes>\r\n    </Router>\r\n  );\r\n}\r\n\r\nfunction LoginWrapper({ onLogin }) {\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogin = (user) => {\r\n    onLogin(user);\r\n    if (user.role === \"admin\") {\r\n      navigate(\"/admin\", { replace: true });\r\n    } else {\r\n      navigate(\"/user\", { replace: true });\r\n    }\r\n  };\r\n\r\n  return <Loginn onLogin={handleLogin} />;\r\n}\r\n\r\nexport default Root;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}